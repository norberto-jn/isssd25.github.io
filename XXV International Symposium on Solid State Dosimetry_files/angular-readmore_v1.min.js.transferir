"use strict"; function readMore(e) { return t.$inject = ["$filter", "$scope", "$log"], { restrict: "AE", scope: { hmText: "@", hmLimit: "@", hmMoreText: "@", hmLessText: "@", hmDotsClass: "@", hmLinkClass: "@" }, template: e.get("readmore.template.html"), controller: t, controllerAs: "vm", bindToController: !0 }; function t(e, t, o) { var s = this; function m() { o.debug("setToggleMoreText"), s.toggle.moreText = s.hmMoreText || "Read more" } function n() { o.debug("setToggleLessText"), s.toggle.lessText = s.hmLessText || "Read less" } function g() { o.debug("setCurrentToggleText"), s.toggle.text = s.toggle.state ? s.toggle.lessText : s.toggle.moreText } function l() { o.debug("setShowToggle"), s.toggle.show = s.moreText && s.moreText.length > 0 } function i() { o.debug("validateLimit"), s.hmLimit = s.hmLimit && s.hmLimit <= 0 ? void 0 : s.hmLimit } function a() { o.debug("setLessAndMoreText"), s.lessText = e("limitTo")(s.hmText, s.hmLimit), s.moreText = e("limitTo")(s.hmText, (o.debug("getMoreTextLimit"), s.hmLimit && s.hmLimit < s.hmText.length ? s.hmLimit - s.hmText.length : 0)) } s.toggle = { dots: "...", dotsClass: s.hmDotsClass, linkClass: s.hmLinkClass }, s.doToggle = function () { o.debug("doToggle"), s.toggle.state = !s.toggle.state, s.showMoreText = !s.showMoreText, g() }, t.$watch("vm.hmMoreText", function (e, t) { e != t && (o.debug("hmMoreText changed"), m(), g()) }), t.$watch("vm.hmLessText", function (e, t) { e != t && (o.debug("hmLessText changed"), n(), g()) }), t.$watch("vm.hmDotsClass", function (e, t) { e != t && (o.debug("hmDotsClass changed"), s.toggle.dotsClass = s.hmDotsClass) }), t.$watch("vm.hmLinkClass", function (e, t) { e != t && (o.debug("hmLinkClass changed"), s.toggle.linkClass = s.hmLinkClass) }), s.$onInit = function () { o.debug("initialize"), m(), n(), i(), a(), l(), g() }, t.$watch("vm.hmText", function (e, t) { e != t && (o.debug("hmText changed"), i(), a(), l()) }), t.$watch("vm.hmLimit", function (e, t) { e != t && (o.debug("hmLimit changed"), i(), a(), l()) }) } } readMore.$inject = ["$templateCache"], angular.module("hm.readmore", ["ngAnimate", "ngSanitize"]).directive("hmReadMore", readMore).config(["$logProvider", function (e) { e.debugEnabled(!1) }]), angular.module("hm.readmore").run(["$templateCache", function (e) { e.put("readmore.template.html", '<span name="text"><span ng-bind-html="vm.lessText" style="white-space:pre-wrap;"></span><span ng-show="vm.showMoreText" class="more-show-hide" ng-bind-html="vm.moreText" style="white-space:pre-wrap;"></span></span><span name="toggle" ng-show="vm.toggle.show"><span ng-class="vm.toggle.dotsClass" ng-show="!vm.toggle.state">{{ vm.toggle.dots }}</span><a ng-class="vm.toggle.linkClass" ng-click="vm.doToggle()">{{ vm.toggle.text }}</a></span>') }]);
